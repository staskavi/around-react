(this["webpackJsonparound-react"]=this["webpackJsonparound-react"]||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),i=a(6),c=a.n(i),r=(a(14),a(2)),l=a(0);function o(e){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:e.isOpen?"popup popup-".concat(e.name," popup_opened"):"popup popup-".concat(e.name),children:Object(l.jsxs)("div",{className:"popup__container",children:[Object(l.jsx)("button",{className:"popup__btn-close",type:"button","aria-label":"Close",onClick:e.onClose}),Object(l.jsxs)("form",{className:"form",name:e.formName,action:"#",noValidate:!0,children:[Object(l.jsx)("h2",{className:"form__edit-title",children:e.title}),e.children,Object(l.jsx)("button",{className:"form__btn-save",type:"submit","aria-label":"Save",children:e.buttonSubmitTitle})]})]})})})}var d=a(9),u=a(7),m=a(8),j=new(function(){function e(t){var a=t.baseUrl,n=t.headers;Object(u.a)(this,e),this._url=a,this._headers=n}return Object(m.a)(e,[{key:"_handleResponse",value:function(e){return e.ok?e.json():(console.log("".concat(e.status,": ").concat(e.statusText)),Promise.reject("".concat(e.status,": ").concat(e.statusText)))}},{key:"getAll",value:function(){return Promise.all([this.getInitialCards(),this.getUserInfo()])}},{key:"getUserInfo",value:function(){return fetch("".concat(this._url,"/users/me"),{method:"GET",headers:this._headers}).then(this._handleResponse)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._url,"/cards"),{method:"GET",headers:this._headers}).then(this._handleResponse)}},{key:"updateUserInfo",value:function(e){var t=e.editName,a=e.editAbout;return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:a})}).then(this._handleResponse)}},{key:"updateUserImage",value:function(e){return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._handleResponse)}},{key:"addNewCard",value:function(e){var t=e.name,a=e.link;return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:a})}).then(this._handleResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._handleResponse)}},{key:"likeCard",value:function(e){return fetch("".concat(this._url,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then(this._handleResponse)}},{key:"dislikeCard",value:function(e){return fetch("".concat(this._url,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then(this._handleResponse)}}]),e}())({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"064fc825-8a38-497e-b79d-9599b0efc019","content-type":"application/json"}}),b=a.p+"static/media/Around.4e8e0a1d.svg";function h(){return Object(l.jsx)("header",{className:"header",children:Object(l.jsx)("img",{className:"header__logo",src:b,alt:"Around the U.S. logo"})})}function p(e){var t=e.card,a=e.onCardClick;return Object(l.jsxs)("li",{className:"element",children:[Object(l.jsx)("img",{src:t.link,alt:t.name,className:"element__image",onClick:function(){return a(t)}}),Object(l.jsx)("button",{type:"button","aria-label":"Delete",className:"element__btn-del"}),Object(l.jsxs)("div",{className:"element__container",children:[Object(l.jsx)("h2",{className:"element__title",children:t.name}),Object(l.jsxs)("div",{className:"element__likes-container",children:[Object(l.jsx)("button",{type:"button","aria-label":"Like",className:"element__btn-like"}),Object(l.jsx)("span",{className:"element__num-of-likes",children:t.likes.length})]})]})]})}var _=a.p+"static/media/cousteau.73fb6160.jpg";function f(e){var t=Object(n.useState)("Jacques Cousteau"),a=Object(r.a)(t,2),s=a[0],i=a[1],c=Object(n.useState)("Explorer"),o=Object(r.a)(c,2),u=o[0],m=o[1],b=Object(n.useState)(_),f=Object(r.a)(b,2),O=f[0],x=f[1],N=Object(n.useState)([]),g=Object(r.a)(N,2),k=g[0],v=g[1];return Object(n.useEffect)((function(){Promise.all([j.getUserInfo(),j.getInitialCards()]).then((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];console.log(n),i(a.name),m(a.about),x(a.avatar),v(Object(d.a)(n))})).catch(console.error)}),[]),Object(l.jsxs)("main",{className:"content",children:[Object(l.jsx)(h,{}),Object(l.jsxs)("section",{className:"profile",children:[Object(l.jsxs)("div",{className:"profile__container",children:[Object(l.jsxs)("div",{className:"profile__avatar-container",children:[Object(l.jsx)("button",{className:"profile__btn-avatar-edit",type:"button","aria-label":"",onClick:e.onEditAvatarClick}),Object(l.jsx)("img",{className:"profile__image",src:O,alt:s})]}),Object(l.jsxs)("div",{className:"profile__info",children:[Object(l.jsxs)("div",{className:"profile__text",children:[Object(l.jsx)("h1",{className:"profile__title",children:s}),Object(l.jsx)("p",{className:"profile__subtitle",children:u})]}),Object(l.jsx)("button",{className:"profile__btn-edit",type:"button","aria-label":"",onClick:e.onEditProfileClick})]})]}),Object(l.jsx)("button",{className:"profile__btn-add",type:"button","aria-label":"",onClick:e.onEditAddPlaceClick})]}),Object(l.jsx)("section",{className:"elements",children:Object(l.jsx)("ul",{className:"elements__list",children:k.map((function(t){return Object(l.jsx)(p,{card:t,onCardClick:e.onCardClick},t._id)}))})}),Object(l.jsx)("template",{id:"element-template",children:Object(l.jsxs)("li",{className:"element",children:[Object(l.jsx)("button",{className:"element__btn-del",type:"button","aria-label":"Delete"}),Object(l.jsx)("img",{className:"element__image",src:"https://code.s3.yandex.net/web-code/yosemite.jpg",alt:"Yosemite Valley"}),Object(l.jsxs)("div",{className:"element__container",children:[Object(l.jsx)("h2",{className:"element__title"}),Object(l.jsxs)("div",{className:"element__likes-container",children:[Object(l.jsx)("button",{className:"element__btn-like",type:"button","aria-label":"Like"}),Object(l.jsx)("p",{className:"element__num-of-likes"})]})]})]})})]})}function O(){return Object(l.jsx)("footer",{className:"footer",children:Object(l.jsx)("p",{className:"footer__copyright",children:"\xa9 2021 Around The U.S. StasK."})})}function x(e){return Object(l.jsx)("div",{className:e.isOpen?"popup popup-".concat(e.name," popup_opened"):"popup popup-".concat(e.name),children:Object(l.jsxs)("div",{className:"popup__container popup__image-container",children:[Object(l.jsx)("button",{className:"popup__btn-close",type:"button","aria-label":"Close",onClick:e.onClose}),Object(l.jsxs)("div",{className:"popup__fullsize-image",children:[Object(l.jsx)("img",{className:"popup__image-photo",src:e.selectedCard.link,alt:e.selectedCard.name}),Object(l.jsx)("h2",{className:"popup__image-title",children:e.selectedCard.name})]})]})})}function N(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],s=t[1],i=Object(n.useState)(!1),c=Object(r.a)(i,2),d=c[0],u=c[1],m=Object(n.useState)(!1),j=Object(r.a)(m,2),b=j[0],h=j[1],p=Object(n.useState)(!1),_=Object(r.a)(p,2),N=_[0],g=_[1],k=Object(n.useState)(!1),v=Object(r.a)(k,2),C=v[0],y=v[1],S=Object(n.useState)({name:"",link:""}),T=Object(r.a)(S,2),E=T[0],P=T[1],A=function(){s(!1),u(!1),h(!1),g(!1),y(!1)};return Object(l.jsxs)("div",{className:"page",children:[Object(l.jsx)(f,{onEditAvatarClick:function(){return h(!0)},onEditProfileClick:function(){return s(!0)},onEditAddPlaceClick:function(){return u(!0)},onCardClick:function(e){P({name:e.name,link:e.link}),y(!0)}}),Object(l.jsx)(O,{}),Object(l.jsxs)(o,{name:"edit",title:"Edit Profile",formName:"edit_form",buttonSubmitTitle:"Save",isOpen:a,onClose:A,children:[Object(l.jsx)("input",{className:"form__input profile-name",id:"profile-name",type:"text",defaultValue:"",placeholder:"Name",name:"editName",minLength:"2",maxLength:"40",required:!0}),Object(l.jsx)("span",{className:"form__input-error",id:"profile-name-error",children:"This field is required."}),Object(l.jsx)("input",{className:"form__input profile-about",id:"profile-about",type:"text",defaultValue:"",placeholder:"About Me",name:"editAbout",minLength:"2",maxLength:"200",required:!0}),Object(l.jsx)("span",{className:"form__input-error",id:"profile-about-error",children:"This field is required."})]}),Object(l.jsxs)(o,{name:"add",title:"New Place",formName:"add_form",buttonSubmitTitle:"Create",isOpen:d,onClose:A,children:[Object(l.jsx)("input",{className:"form__input",id:"title",type:"text",defaultValue:"",placeholder:"Title",name:"name",minLength:"1",maxLength:"30",required:!0}),Object(l.jsx)("span",{className:"form__input-error",id:"title-error",children:"This field is required."}),Object(l.jsx)("input",{className:"form__input",id:"image-link",type:"url",defaultValue:"",placeholder:"Image Link",name:"link",required:!0}),Object(l.jsx)("span",{className:"form__input-error",id:"image-link-error",children:"This field is required."})]}),Object(l.jsxs)(o,{name:"change-profile-img",title:"Change Profile Picture",formName:"edit_form",buttonSubmitTitle:"Create",isOpen:b,onClose:A,children:[Object(l.jsx)("input",{className:"form__input",type:"url",name:"avatar",id:"avatar",defaultValue:"",placeholder:"Avatar url",required:!0}),Object(l.jsx)("span",{className:"form__input-error",id:"avatar-error",children:"This field is required."})]}),Object(l.jsx)(o,{name:"del-card",title:"Are you shure?",formName:"del-confirm_form",buttonSubmitTitle:"Yes",isOpen:N,onClose:A}),Object(l.jsx)(x,{isOpen:C,name:"image",selectedCard:E,onClose:A})]})}var g=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,17)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),i(e),c(e)}))};c.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(N,{})}),document.getElementById("root")),g()}},[[16,1,2]]]);
//# sourceMappingURL=main.0ff865a0.chunk.js.map